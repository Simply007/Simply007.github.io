{"componentChunkName":"component---src-templates-journal-item-js","path":"/journal/test-out-javascript-async-await-easily","result":{"data":{"kontentItemGotcha":{"system":{"id":"ca0dab75-871b-4057-b81a-d9f51e8c8c8c"},"elements":{"title":{"value":"Test out Javascript async await easily"},"post_date":{"value":"2020-08-29T00:00:00Z"},"summary":{"value":"<p>Have you been struggling with some NPM library providing <code>async</code> API? It is surprisingly easy to set up a playground capable of Javascript <code>async</code>, <code>await</code>. Let's get to it!</p>"},"image":{"value":[{"name":"2020-08-29_15-19-00.png","url":"https://assets-eu-01.kc-usercontent.com:443/75653ec1-36a2-01e0-0d25-a64799947697/c252eded-043e-43e3-ac56-faafec5f1606/2020-08-29_15-19-00.png","width":1697,"height":786,"description":"Async Await playground example"}]},"content":{"value":"<h2>Solution</h2>\n<p>It is quite a straight forward process with <strong>one key aspect</strong>. You want to initialize new NPM package and prepare script that is capable to run asynchronous API and wait for the result.<br>\nI suppose you already have <a href=\"https://nodejs.org/en/download/\" data-new-window=\"true\" target=\"_blank\" rel=\"noopener noreferrer\">Node.js</a> installed since you want to test out some javascript locally.</p>\n<p><strong>First</strong>, you need to <strong>create empty directory</strong> and <a href=\"https://docs.npmjs.com/cli/init\" data-new-window=\"true\" target=\"_blank\" rel=\"noopener noreferrer\"><strong>initialize the NPM package</strong></a> inside.</p>\n<object type=\"application/kenticocloud\" data-type=\"item\" data-rel=\"component\" data-codename=\"c31ed597_0b92_01c4_730c_92b4cf5d1ee3\"></object>\n<p>This will create <code>package.json</code> file with this content.</p>\n<object type=\"application/kenticocloud\" data-type=\"item\" data-rel=\"component\" data-codename=\"e51ed56f_16a7_01da_f9fd_294fbcd412bf\"></object>\n<p><strong>Second step </strong>is to create <code>index.js</code> file with <strong>self-invocation function</strong> plus <strong>mark this function as async! </strong>This will do the trick and you could use <code>await</code> wherever you want.</p>\n<object type=\"application/kenticocloud\" data-type=\"item\" data-rel=\"component\" data-codename=\"n37af0177_48f6_016e_6c66_424e356fb1b2\"></object>\n<p><strong>&nbsp;Last step</strong> is to add a NPM script that will run <code>index.js</code> file to test it out. Just define <code>start</code> script that will run <code>node index.js</code> command.</p>\n<object type=\"application/kenticocloud\" data-type=\"item\" data-rel=\"component\" data-codename=\"n24f09f13_355e_0109_224d_d6004b8cb220\"></object>\n<p>And just run the <code>start</code> script via <a href=\"https://docs.npmjs.com/cli/npm\" data-new-window=\"true\" target=\"_blank\" rel=\"noopener noreferrer\"><code>npm CLI</code></a>.</p>\n<object type=\"application/kenticocloud\" data-type=\"item\" data-rel=\"component\" data-codename=\"n25193427_a82f_0122_2361_e84760cfdf1b\"></object>\n<h2>Real example</h2>\n<p>My exact scenario is to test out the <a href=\"https://github.com/Kentico/kontent-delivery-sdk-js#readme\" data-new-window=\"true\" target=\"_blank\" rel=\"noopener noreferrer\">Kontent Delivery SDK for Javascript</a> for loading one content piece asynchronously using <code>await</code> so the result look like that.</p>\n<figure data-asset-id=\"a0999169-c2e4-4e10-9bf3-7b12f042fb16\" data-image-id=\"a0999169-c2e4-4e10-9bf3-7b12f042fb16\"><img src=\"https://assets-eu-01.kc-usercontent.com:443/75653ec1-36a2-01e0-0d25-a64799947697/c252eded-043e-43e3-ac56-faafec5f1606/2020-08-29_15-19-00.png\" data-asset-id=\"a0999169-c2e4-4e10-9bf3-7b12f042fb16\" data-image-id=\"a0999169-c2e4-4e10-9bf3-7b12f042fb16\" alt=\"Async Await playground example\"></figure>\n<p>Install &nbsp;required packages <code>rxjs</code> and <code>@kentico/kontent-delivery</code></p>\n<object type=\"application/kenticocloud\" data-type=\"item\" data-rel=\"component\" data-codename=\"f1d9d936_1452_0144_73f4_10ec6eddd0f7\"></object>\n<p>This will define these two dependencies to <code>package.json</code> file and install them to <code>node_modules</code> folder.</p>\n<object type=\"application/kenticocloud\" data-type=\"item\" data-rel=\"component\" data-codename=\"n0675dd6b_7349_01b4_671f_6f1d7cade600\"></object>\n<p>And to test out something real, let's adjust the <code>index.js</code> file to load content item of this gotcha.</p>\n<object type=\"application/kenticocloud\" data-type=\"item\" data-rel=\"component\" data-codename=\"n460fef0a_11ea_01ab_fd01_5424467223a1\"></object>\n<p>So by running <code>npm start</code> you will get something like that!</p>\n<object type=\"application/kenticocloud\" data-type=\"item\" data-rel=\"component\" data-codename=\"n95537677_96f4_01a1_1ba3_d1953377dfd5\"></object>\n<p><strong>And Voila - the title logged to console! </strong>That is why we program ðŸ¤“</p>","modular_content":[{"__typename":"kontent_item_code_snippet","system":{"codename":"c31ed597_0b92_01c4_730c_92b4cf5d1ee3"},"elements":{"code":{"value":"{\"language\":\"powershell\",\"code\":\"mkdir playground\\ncd playground\\nnpm init -y\"}"}}},{"__typename":"kontent_item_code_snippet","system":{"codename":"e51ed56f_16a7_01da_f9fd_294fbcd412bf"},"elements":{"code":{"value":"{\"language\":\"json\",\"code\":\"{\\r\\n  \\\"name\\\": \\\"playground\\\",\\r\\n  \\\"version\\\": \\\"1.0.0\\\",\\r\\n  \\\"description\\\": \\\"\\\",\\r\\n  \\\"main\\\": \\\"index.js\\\",\\r\\n  \\\"scripts\\\": {\\r\\n    \\\"test\\\": \\\"echo \\\\\\\"Error: no test specified\\\\\\\" && exit 1\\\"\\r\\n  },\\r\\n  \\\"keywords\\\": [],\\r\\n  \\\"author\\\": \\\"\\\",\\r\\n  \\\"license\\\": \\\"ISC\\\"\\r\\n}\"}"}}},{"__typename":"kontent_item_code_snippet","system":{"codename":"n37af0177_48f6_016e_6c66_424e356fb1b2"},"elements":{"code":{"value":"{\"language\":\"javascript\",\"code\":\"const doWhatever = async () => {\\r\\n  // await whatever\\r\\n};\\r\\n\\r\\n// Self-invocation async function\\r\\n(async () => {\\r\\n  await doWhatever();\\r\\n})().catch((err) => {\\r\\n  console.error(err);\\r\\n  throw err;\\r\\n});\"}"}}},{"__typename":"kontent_item_code_snippet","system":{"codename":"n24f09f13_355e_0109_224d_d6004b8cb220"},"elements":{"code":{"value":"{\"language\":\"json\",\"code\":\"{\\r\\n  \\\"name\\\": \\\"playground\\\",\\r\\n  \\\"version\\\": \\\"1.0.0\\\",\\r\\n  \\\"description\\\": \\\"\\\",\\r\\n  \\\"main\\\": \\\"index.js\\\",\\r\\n  \\\"scripts\\\": {\\r\\n    \\\"test\\\": \\\"echo \\\\\\\"Error: no test specified\\\\\\\" && exit 1\\\",\\r\\n    \\\"start\\\": \\\"node index.js\\\" // THAT LINE\\r\\n  },\\r\\n  \\\"keywords\\\": [],\\r\\n  \\\"author\\\": \\\"\\\",\\r\\n  \\\"license\\\": \\\"ISC\\\"\\r\\n}\"}"}}},{"__typename":"kontent_item_code_snippet","system":{"codename":"n25193427_a82f_0122_2361_e84760cfdf1b"},"elements":{"code":{"value":"{\"language\":\"powershell\",\"code\":\"npm start\"}"}}},{"__typename":"kontent_item_code_snippet","system":{"codename":"f1d9d936_1452_0144_73f4_10ec6eddd0f7"},"elements":{"code":{"value":"{\"language\":\"powershell\",\"code\":\"npm i rxjs --save\\r\\nnpm i @kentico/kontent-delivery --save\"}"}}},{"__typename":"kontent_item_code_snippet","system":{"codename":"n0675dd6b_7349_01b4_671f_6f1d7cade600"},"elements":{"code":{"value":"{\"language\":\"json\",\"code\":\"{\\r\\n  \\\"name\\\": \\\"playground\\\",\\r\\n  \\\"version\\\": \\\"1.0.0\\\",\\r\\n  \\\"description\\\": \\\"\\\",\\r\\n  \\\"main\\\": \\\"index.js\\\",\\r\\n  \\\"scripts\\\": {\\r\\n    \\\"test\\\": \\\"echo \\\\\\\"Error: no test specified\\\\\\\" && exit 1\\\",\\r\\n    \\\"start\\\": \\\"node index.js\\\"\\r\\n  },\\r\\n  \\\"keywords\\\": [],\\r\\n  \\\"author\\\": \\\"\\\",\\r\\n  \\\"license\\\": \\\"ISC\\\",\\r\\n  \\\"dependencies\\\": { // THESE DEPENDENCIES\\r\\n    \\\"@kentico/kontent-delivery\\\": \\\"^10.0.0\\\",\\r\\n    \\\"rxjs\\\": \\\"^6.6.2\\\"\\r\\n  }\\r\\n}\"}"}}},{"__typename":"kontent_item_code_snippet","system":{"codename":"n460fef0a_11ea_01ab_fd01_5424467223a1"},"elements":{"code":{"value":"{\"language\":\"javascript\",\"code\":\"const { DeliveryClient } = require('@kentico/kontent-delivery');\\r\\n\\r\\nconst doWhatever = async () => {\\r\\n  const client = new DeliveryClient({\\r\\n    projectId: \\\"75653ec1-36a2-01e0-0d25-a64799947697\\\",\\r\\n  });\\r\\n\\r\\n  const result = await client.item(\\\"test_out_javascript_await_easily\\\")\\r\\n    .toPromise(); // THERE YOU GO!\\r\\n\\r\\n  console.log(result.item.title.value);\\r\\n}\\r\\n\\r\\n\\r\\n// Self-invocation async function\\r\\n(async () => {\\r\\n  await doWhatever();\\r\\n})().catch(err => {\\r\\n  console.error(err);\\r\\n  throw (err);\\r\\n});\"}"}}},{"__typename":"kontent_item_code_snippet","system":{"codename":"n95537677_96f4_01a1_1ba3_d1953377dfd5"},"elements":{"code":{"value":"{\"language\":\"powershell\",\"code\":\"PS C:\\\\tmp\\\\playground> npm start\\r\\n\\r\\n> playground@1.0.0 start C:\\\\tmp\\\\playground\\r\\n> node index.js\\r\\n\\r\\nTest out Javascript async await easily\"}"}}}],"images":[{"image_id":"a0999169-c2e4-4e10-9bf3-7b12f042fb16","url":"https://assets-eu-01.kc-usercontent.com:443/75653ec1-36a2-01e0-0d25-a64799947697/c252eded-043e-43e3-ac56-faafec5f1606/2020-08-29_15-19-00.png","width":1697,"height":786,"description":"Async Await playground example"}]}}}},"pageContext":{"language":"en-US","codename":"test_out_javascript_await_easily"}},"staticQueryHashes":["2624379000","2688675029"]}