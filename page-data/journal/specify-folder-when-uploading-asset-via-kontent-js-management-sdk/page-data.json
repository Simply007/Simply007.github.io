{"componentChunkName":"component---src-templates-journal-item-js","path":"/journal/specify-folder-when-uploading-asset-via-kontent-js-management-sdk","result":{"data":{"kontentItemGotcha":{"system":{"id":"0e01ec9a-78d7-49e7-a50c-be4e436b2fd0"},"elements":{"title":{"value":"Specify folder when uploading Asset via Kontent JS Management SDK"},"post_date":{"value":"2020-07-31T00:00:00Z"},"summary":{"value":"<p>It is great that <a href=\"https://docs.kontent.ai/reference/management-api-v2#tag/Assets\" data-new-window=\"true\" target=\"_blank\" rel=\"noopener noreferrer\">Kentico Kontent Management REST API</a> allows uploading the assets, but how to upload an asset under a specific folder and how to achieve it via <a href=\"https://github.com/Kentico/kontent-management-sdk-js\" data-new-window=\"true\" target=\"_blank\" rel=\"noopener noreferrer\">Javascript Management SDK</a>?<br>\nOriginally this question was asked on <a href=\"https://stackoverflow.com/questions/63190557/how-can-i-add-asset-image-to-specific-folder-using-kentico/63191503\" data-new-window=\"true\" target=\"_blank\" rel=\"noopener noreferrer\">StackOverflow</a>.</p>"},"image":{"value":[]},"content":{"value":"<p>The answer is pretty simple in the end. The only hard thing is to find the right part of the <a href=\"https://docs.kontent.ai/reference/management-api-v2\" data-new-window=\"true\" target=\"_blank\" rel=\"noopener noreferrer\">REST Management API documentation</a> and then find this API provided via &nbsp;<a href=\"https://github.com/Kentico/kontent-management-sdk-js\" data-new-window=\"true\" target=\"_blank\" rel=\"noopener noreferrer\">Javascript/Typescript Management SDK</a> wrapper.<br>\n</p>\n<p>JS SDK should wrap the capabilities of the <a href=\"https://docs.kontent.ai/reference/management-api-v2\" data-new-window=\"true\" target=\"_blank\" rel=\"noopener noreferrer\">Kontent REST Management API v2</a>, in this case, the crucial is folder property of the Asset model.<br>\n<br>\nSo the insert script when uploading an asset and then submitting it under specific folder would look like that:</p>\n<object type=\"application/kenticocloud\" data-type=\"item\" data-rel=\"component\" data-codename=\"n8ff5c725_d288_017d_9fa9_a992c1c6de95\"></object>\n<p>If you already have the asset in Kontent, you could also just assign an aseet under your desired folder:</p>\n<object type=\"application/kenticocloud\" data-type=\"item\" data-rel=\"component\" data-codename=\"a0fc4e11_bc13_016b_2136_51c49bfaf6c8\"></object>\n<p>Original <a href=\"https://stackoverflow.com/questions/63190557/how-can-i-add-asset-image-to-specific-folder-using-kentico/63191503#63191503\" data-new-window=\"true\" target=\"_blank\" rel=\"noopener noreferrer\">answer on StackOverflow</a>.</p>","modular_content":[{"system":{"codename":"n8ff5c725_d288_017d_9fa9_a992c1c6de95","type":"code_snippet"},"elements":{"code":{"value":"{\"language\":\"javascript\",\"code\":\"const folders = await mClient.listAssetFolders()\\r\\n  .toPromise(); // get folders\\r\\nconst desiredFolder = folders.items\\r\\n  .find(folder => folder.name = \\\"Pets\\\"); // set desired folder\\r\\nconst assetData = await getAssetDataDataFromUrl(article.image.url)\\r\\n  .toPromise(); // load binary how you want it\\r\\nconst assetObject = await mClient\\r\\n  .uploadBinaryFile()\\r\\n  .withData(assetData)\\r\\n  .toPromise(); // upload binary\\r\\n\\r\\nconst asset = await mClient.addAsset()\\r\\n  .withData({\\r\\n    descriptions: [{\\r\\n      language: {\\r\\n        codename: argv.language\\r\\n      },\\r\\n      description: `Image for article ${article.title}`\\r\\n    }],\\r\\n    external_id: article.image.id,\\r\\n    file_reference: {\\r\\n      ...assetObject.data\\r\\n    },\\r\\n    folder:  {\\r\\n      id: desiredFolder.id,\\r\\n      // also possible to use external ID:\\r\\n      // external_id: desiredFolder.externalId \\r\\n    }\\r\\n  })\\r\\n  .toPromise();\"}"}}},{"system":{"codename":"a0fc4e11_bc13_016b_2136_51c49bfaf6c8","type":"code_snippet"},"elements":{"code":{"value":"{\"language\":\"javascript\",\"code\":\"const updatedAsset = await mClient.upsertAsset().withData({\\r\\n  // not sure if you need to add whole asset object like:\\r\\n  // `...asset`, but I think it is not necessary\\r\\n  folder:  {\\r\\n    id: desiredFolder.id,\\r\\n    // also possible to use external ID:\\r\\n    // external_id: desiredFolder.externalId \\r\\n  }\\r\\n}).toPromise()\"}"}}}],"images":[]}}}},"pageContext":{"language":"en-US","codename":"specify_folder_when_uploading_asset_via_kontent_js"}},"staticQueryHashes":["2624379000","690649307"]}